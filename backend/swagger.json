{
  "openapi": "3.0.3",
  "info": {
    "title": "MathKids API",
    "description": "API REST completa do MathKids - Plataforma educativa de matem√°tica para crian√ßas de 3 a 9 anos.\n\nSistema robusto de autentica√ß√£o, gest√£o de usu√°rios e recupera√ß√£o de senhas com seguran√ßa avan√ßada.\n\n## ‚úÖ Funcionalidades Implementadas\n- üë• **Registro de respons√°veis/pais** com valida√ß√£o completa\n- üîë **Sistema de login seguro** com tokens persistentes ('Lembrar de mim')\n- üîê **Redefini√ß√£o de senha via email** com tokens criptografados\n- üìß **Servi√ßo de email robusto** (Mailtrap + Ethereal fallback)\n- üõ°Ô∏è **Valida√ß√£o rigorosa** e seguran√ßa em m√∫ltiplas camadas\n- üíæ **PostgreSQL** via Neon.tech com tokens de autentica√ß√£o\n- üîç **Health checks completos** para monitoramento\n- üö™ **Logout seguro** com revoga√ß√£o de sess√µes\n- üîé **Endpoints de debug** para desenvolvimento\n\n## üöÄ Funcionalidades Futuras\n- üë∂ Gest√£o de perfis de crian√ßas\n- üßÆ M√≥dulos educativos de matem√°tica interativos\n- üèÜ Sistema de progresso e recompensas\n- üìä Relat√≥rios de aprendizado para pais\n\n## üìß Sistema de Email\n- **Mailtrap**: Desenvolvimento e produ√ß√£o\n- **Ethereal**: Fallback autom√°tico quando Mailtrap falha\n- **Tokens seguros**: 64 chars hex com expira√ß√£o autom√°tica\n- **Templates HTML**: Responsivos e acess√≠veis\n- **Expira√ß√£o din√¢mica**: 60min (dev) / 15min (prod)\n\n## üîê Seguran√ßa Avan√ßada\n- **bcrypt**: Senhas hasheadas com salt de 10 rounds\n- **Tokens JWT**: Sess√µes persistentes seguras\n- **CORS**: Origens espec√≠ficas permitidas\n- **Valida√ß√£o rigorosa**: Sanitiza√ß√£o de todos os inputs\n- **Case-insensitive**: Busca por email normalizada\n- **Logs detalhados**: Monitoramento sem expor dados sens√≠veis\n\n## üß™ Como Testar\n1. **Swagger UI**: Acesse esta documenta√ß√£o interativa\n2. **Try it out**: Use os bot√µes para testar diretamente\n3. **Reset de senha**: Execute `/api/forgot-password` ‚Üí copie token do `devInfo` ‚Üí teste `/api/reset-password`\n4. **Health checks**: Verifique `/health`, `/health/database`, `/health/email`\n5. **Debug**: Use endpoints `/debug` em desenvolvimento",
    "version": "2.2.0",
    "contact": {
      "name": "MathKids Team",
      "url": "https://github.com/abe-karin/mathkids",
      "email": "contato@mathkids.com"
    },
    "license": {
      "name": "ISC",
      "url": "https://opensource.org/licenses/ISC"
    }
  },
  "servers": [
    {
      "url": "https://mathkids-back.onrender.com",
      "description": "üåê Servidor de Produ√ß√£o (Render)"
    },
    {
      "url": "http://localhost:5000",
      "description": "üè† Servidor de desenvolvimento local (porta 5000)"
    },
    {
      "url": "http://localhost:3000",
      "description": "üè† Servidor alternativo local (porta 3000)"
    }
  ],
  "tags": [
    {
      "name": "Autentica√ß√£o",
      "description": "Endpoints para registro, login e redefini√ß√£o de senha de respons√°veis/pais"
    },
    {
      "name": "Sistema",
      "description": "Endpoints de monitoramento e health checks da API"
    },
    {
      "name": "P√°ginas",
      "description": "Rotas para servir p√°ginas HTML do frontend"
    },
    {
      "name": "Debug",
      "description": "Endpoints de debugging e diagn√≥stico (desenvolvimento apenas)"
    },
    {
      "name": "Educativo",
      "description": "Endpoints para m√≥dulos educativos (futuro)"
    }
  ],
  "paths": {
    "/": {
      "get": {
        "tags": ["P√°ginas"],
        "summary": "P√°gina inicial - Bem-vindo ao Mundo M√°gico",
        "description": "Serve a p√°gina principal de boas-vindas do MathKids com tema infantil",
        "responses": {
          "200": {
            "description": "P√°gina inicial carregada com sucesso",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string",
                  "example": "<!DOCTYPE html><html><head><title>Bem-vindo ao Mundo M√°gico!</title>..."
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["Sistema"],
        "summary": "üè• Verifica√ß√£o de sa√∫de do servidor",
        "description": "Endpoint b√°sico de health check para verificar se o servidor est√° funcionando corretamente",
        "responses": {
          "200": {
            "description": "‚úÖ Servidor funcionando corretamente",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Servidor saud√°vel",
                    "value": {
                      "status": "OK",
                      "timestamp": "2024-01-15T10:30:00.000Z",
                      "service": "MathKids API"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health/database": {
      "get": {
        "tags": ["Sistema"],
        "summary": "üóÑÔ∏è Verifica√ß√£o de conectividade com banco de dados",
        "description": "Verifica se a conex√£o com o banco de dados PostgreSQL est√° funcionando corretamente",
        "responses": {
          "200": {
            "description": "‚úÖ Banco de dados conectado e funcionando",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatabaseHealthResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Banco conectado com sucesso",
                    "value": {
                      "status": "OK",
                      "database": "connected",
                      "timestamp": "2024-01-15T10:30:00.000Z",
                      "query_time": "12ms"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Erro de conex√£o com o banco de dados",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "database_error": {
                    "summary": "Falha na conex√£o com banco",
                    "value": {
                      "status": "ERROR",
                      "database": "disconnected",
                      "error": "Connection timeout",
                      "timestamp": "2024-01-15T10:30:00.000Z"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/cadastro": {
      "get": {
        "tags": ["P√°ginas"],
        "summary": "P√°gina de cadastro de respons√°veis",
        "description": "Serve a p√°gina de cadastro para pais/respons√°veis",
        "responses": {
          "200": {
            "description": "P√°gina de cadastro carregada com sucesso",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string",
                  "example": "<!DOCTYPE html><html><head><title>Cadastro - MathKids</title>..."
                }
              }
            }
          }
        }
      }
    },
    "/api/status": {
      "get": {
        "tags": ["Sistema"],
        "summary": "üìä Status completo da API",
        "description": "Retorna informa√ß√µes detalhadas sobre o status da API, incluindo endpoints dispon√≠veis, banco de dados e servi√ßo de email",
        "responses": {
          "200": {
            "description": "‚úÖ Status da API obtido com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiStatusResponse"
                },
                "examples": {
                  "api_online": {
                    "summary": "API funcionando completamente",
                    "value": {
                      "api": "MathKids API",
                      "status": "online",
                      "endpoints": {
                        "register": "/api/register",
                        "login": "/api/login",
                        "forgot_password": "/api/forgot-password",
                        "reset_password": "/api/reset-password",
                        "docs": "/api-docs",
                        "health": "/health"
                      },
                      "database": "connected",
                      "email_service": {
                        "provider": "mailtrap",
                        "isMailtrap": true,
                        "isTest": false,
                        "fromEmail": "noreply@mathkids.com",
                        "fromName": "MathKids - Educa√ß√£o Infantil",
                        "hasTransporter": true
                      },
                      "timestamp": "2025-10-01T17:30:00.000Z"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/register": {
      "post": {
        "tags": ["Autentica√ß√£o"],
        "summary": "Registrar novo respons√°vel/pai",
        "description": "Cria uma nova conta para respons√°vel no sistema MathKids.\n\n### Valida√ß√µes Implementadas:\n- ‚úÖ Todos os campos s√£o obrigat√≥rios\n- ‚úÖ Email deve ser √∫nico no sistema\n- ‚úÖ Senha √© criptografada com bcrypt (10 rounds)\n- ‚úÖ Termos devem ser aceitos (true)\n- ‚úÖ Data de nascimento deve ser v√°lida\n\n### Seguran√ßa:\n- üîê Senhas hasheadas com bcrypt\n- üîí Conex√£o SSL com PostgreSQL\n- üõ°Ô∏è Valida√ß√£o contra SQL injection\n- üìß Verifica√ß√£o de email duplicado",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegistroRequest"
              },
              "examples": {
                "exemplo_completo": {
                  "summary": "‚úÖ Exemplo de registro completo e v√°lido",
                  "value": {
                    "nomeDoResponsavel": "Maria Silva Santos",
                    "email": "maria.santos@email.com",
                    "senha": "minhasenhasegura123",
                    "dataDeNascimento": "1985-03-15",
                    "termosAceitos": true
                  }
                },
                "exemplo_minimo": {
                  "summary": "‚úÖ Exemplo m√≠nimo v√°lido",
                  "value": {
                    "nomeDoResponsavel": "Jo√£o",
                    "email": "joao@teste.com",
                    "senha": "123456",
                    "dataDeNascimento": "1990-01-01",
                    "termosAceitos": true
                  }
                },
                "exemplo_erro": {
                  "summary": "‚ùå Exemplo que gerar√° erro (email duplicado)",
                  "value": {
                    "nomeDoResponsavel": "Usu√°rio Teste",
                    "email": "usuario@existente.com",
                    "senha": "senha123",
                    "dataDeNascimento": "1988-12-25",
                    "termosAceitos": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Usu√°rio registrado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistroSucessoResponse"
                },
                "examples": {
                  "sucesso": {
                    "summary": "Registro bem-sucedido",
                    "value": {
                      "message": "Usu√°rio registrado com sucesso!",
                      "user": {
                        "id": 42,
                        "email": "maria.santos@email.com",
                        "nome_responsavel": "Maria Silva Santos"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå Dados inv√°lidos ou campos obrigat√≥rios ausentes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "campos_obrigatorios": {
                    "summary": "Campos obrigat√≥rios faltando",
                    "value": {
                      "message": "Erro: Todos os campos s√£o obrigat√≥rios, incluindo a aceita√ß√£o dos termos."
                    }
                  },
                  "email_invalido": {
                    "summary": "Email com formato inv√°lido",
                    "value": {
                      "message": "Erro: Email deve ter um formato v√°lido."
                    }
                  },
                  "termos_nao_aceitos": {
                    "summary": "Termos n√£o aceitos",
                    "value": {
                      "message": "Erro: √â necess√°rio aceitar os termos de uso."
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "‚ùå Conflito - Email j√° est√° em uso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "email_duplicado": {
                    "summary": "Email j√° cadastrado no sistema",
                    "value": {
                      "message": "Erro: O e-mail fornecido j√° est√° em uso."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "erro_servidor": {
                    "summary": "Erro do servidor ou banco de dados",
                    "value": {
                      "message": "Erro interno do servidor ao tentar registrar o usu√°rio."
                    }
                  },
                  "erro_banco": {
                    "summary": "Erro de conex√£o com banco",
                    "value": {
                      "message": "Erro de conex√£o com o banco de dados."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/login": {
      "post": {
        "tags": ["Autentica√ß√£o"],
        "summary": "üîë Fazer login no sistema",
        "description": "Autentica um usu√°rio registrado no sistema MathKids.\n\n### Credenciais de Teste:\n- **Admin:** `adm@email.com` / `123456`\n- **Usu√°rio:** Use credenciais de um usu√°rio registrado\n\n### Funcionalidades:\n- üîê Verifica√ß√£o de senha com bcrypt\n- üîí Autentica√ß√£o segura\n- üíæ Op√ß√£o de \"Lembrar-me\"\n- üéØ Redirecionamento autom√°tico",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              },
              "examples": {
                "admin_login": {
                  "summary": "üëë Login como Administrador",
                  "value": {
                    "email": "adm@email.com",
                    "senha": "123456",
                    "rememberMe": true
                  }
                },
                "user_login": {
                  "summary": "üë§ Login de Usu√°rio Normal",
                  "value": {
                    "email": "maria.santos@email.com",
                    "senha": "minhasenha123",
                    "rememberMe": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginSucessoResponse"
                },
                "examples": {
                  "login_success": {
                    "summary": "Login bem-sucedido",
                    "value": {
                      "message": "Login realizado com sucesso!",
                      "user": {
                        "id": 1,
                        "email": "maria.santos@email.com",
                        "nome": "Maria Silva Santos",
                        "tipo": "usuario"
                      },
                      "token": "token_1_1642234567890",
                      "rememberMe": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå Dados inv√°lidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "campos_obrigatorios": {
                    "summary": "Campos obrigat√≥rios faltando",
                    "value": {
                      "message": "Erro: Email e senha s√£o obrigat√≥rios."
                    }
                  },
                  "email_invalido": {
                    "summary": "Formato de email inv√°lido",
                    "value": {
                      "message": "Erro: Formato de email inv√°lido."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "‚ùå Credenciais inv√°lidas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "credenciais_incorretas": {
                    "summary": "Email ou senha incorretos",
                    "value": {
                      "message": "Erro: Email ou senha incorretos."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "erro_servidor": {
                    "summary": "Erro do servidor",
                    "value": {
                      "message": "Erro interno do servidor ao tentar fazer login."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/forgot-password": {
      "post": {
        "tags": ["Autentica√ß√£o"],
        "summary": "üîê Solicitar redefini√ß√£o de senha",
        "description": "Solicita um link de redefini√ß√£o de senha que ser√° enviado por email via Mailtrap.\n\n### üéØ Para testar o reset-password:\n1. **Execute este endpoint** com um email v√°lido\n2. **Copie o token** do campo `devInfo.resetToken` na resposta\n3. **Use o token** no endpoint `/api/reset-password`\n4. **Ou** copie o link completo do `devInfo.resetLink`\n\n### Funcionalidades:\n- ‚úÖ Verifica se email existe no sistema\n- ‚úÖ Gera token seguro de reset (64 caracteres hex)\n- ‚úÖ Token expira em 60 minutos (dev) / 15 minutos (prod)\n- ‚úÖ Envia email via Mailtrap com link de reset\n- ‚úÖ Fallback para Ethereal em caso de falha\n\n### Seguran√ßa:\n- üîê Token hasheado com bcrypt antes de salvar\n- ‚è∞ Expira√ß√£o autom√°tica de tokens\n- üõ°Ô∏è N√£o revela se email existe (mesma resposta)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              },
              "examples": {
                "usuario_existente": {
                  "summary": "‚úÖ Email v√°lido e cadastrado",
                  "value": {
                    "email": "usuario@email.com"
                  }
                },
                "usuario_inexistente": {
                  "summary": "‚ö†Ô∏è Email n√£o cadastrado (mesma resposta por seguran√ßa)",
                  "value": {
                    "email": "naoexiste@email.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Solicita√ß√£o processada (sempre retorna sucesso por seguran√ßa)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordResponse"
                },
                "examples": {
                  "email_enviado": {
                    "summary": "‚úÖ Email enviado - TOKEN DISPON√çVEL AQUI",
                    "description": "Copie o resetToken do devInfo para usar no /api/reset-password",
                    "value": {
                      "message": "Se este email estiver cadastrado, voc√™ receber√° instru√ß√µes para redefinir sua senha.",
                      "resetAvailable": true,
                      "emailSent": true,
                      "devInfo": {
                        "resetToken": "abc123def456...Token64CharsHex...789012345678901234567890abcdef123456",
                        "resetLink": "http://localhost:5000/cadastro/reset-password.html?token=abc123...&email=user%40email.com",
                        "testMode": true,
                        "provider": "mailtrap",
                        "instruction": "üéØ COPIE O resetToken ACIMA para usar no /api/reset-password"
                      }
                    }
                  },
                  "email_nao_encontrado": {
                    "summary": "Email n√£o encontrado (mesma resposta)",
                    "value": {
                      "message": "Se este email estiver cadastrado, voc√™ receber√° instru√ß√µes para redefinir sua senha.",
                      "resetAvailable": false
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå Dados inv√°lidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "email_obrigatorio": {
                    "summary": "Email n√£o fornecido",
                    "value": {
                      "message": "Email √© obrigat√≥rio"
                    }
                  },
                  "email_invalido": {
                    "summary": "Formato de email inv√°lido",
                    "value": {
                      "message": "Formato de email inv√°lido"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/reset-password": {
      "post": {
        "tags": ["Autentica√ß√£o"],
        "summary": "üîÑ Redefinir senha com token",
        "description": "Redefine a senha do usu√°rio usando o token recebido por email.\n\n### ‚ö†Ô∏è IMPORTANTE - Como testar:\n1. **Primeiro** execute `/api/forgot-password` com um email v√°lido\n2. **Copie o token** dos logs do servidor ou do campo `devInfo.resetToken`\n3. **Use o token real** neste endpoint (n√£o o exemplo abaixo)\n4. O token de exemplo abaixo **N√ÉO FUNCIONA** - √© apenas ilustrativo\n\n### Valida√ß√µes:\n- ‚úÖ Token deve ser v√°lido e n√£o expirado\n- ‚úÖ Email deve corresponder ao token\n- ‚úÖ Nova senha: 6-128 caracteres\n- ‚úÖ Token √© invalidado ap√≥s uso\n- ‚úÖ Logout em todos os dispositivos\n\n### Seguran√ßa:\n- üîê Token verificado com bcrypt\n- ‚è∞ Verifica√ß√£o de expira√ß√£o\n- üóëÔ∏è Token marcado como usado\n- üö™ Revoga todas as sess√µes ativas",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              },
              "examples": {
                "reset_valido": {
                  "summary": "‚ö†Ô∏è EXEMPLO ILUSTRATIVO - Use token real do forgot-password",
                  "description": "Este √© apenas um exemplo! Execute /api/forgot-password primeiro e use o token retornado.",
                  "value": {
                    "token": "SUBSTITUA_PELO_TOKEN_REAL_DO_FORGOT_PASSWORD_64_CHARS_HEX",
                    "email": "usuario@email.com",
                    "newPassword": "minhanovasenha123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Senha redefinida com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResetPasswordResponse"
                },
                "examples": {
                  "senha_redefinida": {
                    "summary": "Redefini√ß√£o bem-sucedida",
                    "value": {
                      "message": "Senha redefinida com sucesso! Fa√ßa login com a nova senha."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå Dados inv√°lidos ou token expirado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "campos_obrigatorios": {
                    "summary": "Campos obrigat√≥rios n√£o fornecidos",
                    "value": {
                      "message": "Token, email e nova senha s√£o obrigat√≥rios"
                    }
                  },
                  "token_invalido": {
                    "summary": "Token inv√°lido ou expirado",
                    "value": {
                      "message": "Token inv√°lido ou expirado"
                    }
                  },
                  "senha_fraca": {
                    "summary": "Senha n√£o atende aos requisitos",
                    "value": {
                      "message": "Nova senha deve ter pelo menos 6 caracteres"
                    }
                  },
                  "email_invalido": {
                    "summary": "Formato de email inv√°lido",
                    "value": {
                      "message": "Formato de email inv√°lido"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "‚ùå Opera√ß√£o n√£o permitida",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "admin_bloqueado": {
                    "summary": "Tentativa de reset para conta admin",
                    "value": {
                      "message": "N√£o √© poss√≠vel redefinir senha da conta administrativa"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/email": {
      "get": {
        "tags": ["Sistema"],
        "summary": "üìß Verifica√ß√£o do servi√ßo de email",
        "description": "Verifica se o servi√ßo de email (Mailtrap/Ethereal) est√° funcionando corretamente",
        "responses": {
          "200": {
            "description": "‚úÖ Servi√ßo de email funcionando",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailHealthResponse"
                },
                "examples": {
                  "mailtrap_ok": {
                    "summary": "Mailtrap funcionando",
                    "value": {
                      "status": "OK",
                      "email_service": "enabled",
                      "provider": "mailtrap",
                      "details": {
                        "provider": "mailtrap",
                        "isMailtrap": true,
                        "isTest": false,
                        "fromEmail": "noreply@mathkids.com",
                        "fromName": "MathKids - Educa√ß√£o Infantil",
                        "hasTransporter": true
                      },
                      "timestamp": "2025-10-01T17:30:00.000Z"
                    }
                  },
                  "ethereal_fallback": {
                    "summary": "Usando Ethereal (fallback)",
                    "value": {
                      "status": "OK",
                      "email_service": "enabled", 
                      "provider": "test",
                      "details": {
                        "provider": "test",
                        "isMailtrap": false,
                        "isTest": true,
                        "fromEmail": "MathKids@exemplo.com",
                        "fromName": "MathKids - Educa√ß√£o Infantil",
                        "hasTransporter": true
                      },
                      "timestamp": "2025-10-01T17:30:00.000Z"
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "‚ùå Servi√ßo de email com problemas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                },
                "examples": {
                  "email_falhou": {
                    "summary": "Falha no servi√ßo de email",
                    "value": {
                      "status": "ERROR",
                      "email_service": "failed",
                      "error": "SMTP connection failed",
                      "timestamp": "2025-10-01T17:30:00.000Z"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/logout": {
      "post": {
        "tags": ["Autentica√ß√£o"],
        "summary": "üö™ Logout seguro do usu√°rio",
        "description": "Realiza logout seguro invalidando tokens de autentica√ß√£o e sess√µes ativas.\n\n### ‚úÖ Funcionalidades:\n- üóëÔ∏è Invalida token JWT atual\n- üîÑ Remove cookie de 'lembrar de mim'\n- üõ°Ô∏è Revoga sess√µes ativas\n- üì± Logout em todos os dispositivos\n\n### üîê Seguran√ßa:\n- Token invalidado instantaneamente\n- Limpeza completa de sess√µes\n- Sem exposi√ß√£o de dados sens√≠veis",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Token JWT para invalidar (opcional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Logout realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logout realizado com sucesso"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/verify-token": {
      "get": {
        "tags": ["Autentica√ß√£o"],
        "summary": "üîç Verificar token salvo",
        "description": "Verifica se existe token v√°lido salvo (funcionalidade 'Lembrar de mim').\n\n### ‚úÖ Funcionalidades:\n- üîç Verifica cookie de sess√£o\n- ‚è∞ Valida expira√ß√£o do token\n- üë§ Retorna dados do usu√°rio se v√°lido\n- üîÑ Auto-login silencioso\n\n### üõ°Ô∏è Seguran√ßa:\n- Verifica√ß√£o de integridade do token\n- Valida√ß√£o de expira√ß√£o\n- N√£o exp√µe dados sens√≠veis",
        "responses": {
          "200": {
            "description": "‚úÖ Token v√°lido encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": true
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 123
                        },
                        "email": {
                          "type": "string",
                          "example": "usuario@example.com"
                        },
                        "nome": {
                          "type": "string",
                          "example": "Jo√£o Silva"
                        },
                        "tipo": {
                          "type": "string",
                          "example": "usuario"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "‚ùå Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErroResponse"
                }
              }
            }
          }
        }
      }
    },
    "/debug": {
      "get": {
        "tags": ["Debug"],
        "summary": "üîß Informa√ß√µes de debug do sistema",
        "description": "‚ö†Ô∏è **DESENVOLVIMENTO APENAS** - Retorna informa√ß√µes t√©cnicas do sistema.\n\n### üìä Informa√ß√µes inclu√≠das:\n- üåê URLs e configura√ß√µes\n- üìß Status do servi√ßo de email\n- üíæ Conex√£o com banco de dados\n- ‚öôÔ∏è Vari√°veis de ambiente (sem dados sens√≠veis)\n- üîç Estat√≠sticas do servidor\n\n### ‚ö†Ô∏è Importante:\n- Dispon√≠vel apenas em desenvolvimento\n- N√£o exp√µe credenciais\n- Dados sanitizados para seguran√ßa",
        "responses": {
          "200": {
            "description": "‚úÖ Informa√ß√µes de debug coletadas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "environment": {
                      "type": "string",
                      "example": "development"
                    },
                    "database": {
                      "type": "object",
                      "properties": {
                        "connected": {
                          "type": "boolean"
                        },
                        "url_configured": {
                          "type": "boolean"
                        }
                      }
                    },
                    "email": {
                      "type": "object",
                      "properties": {
                        "service": {
                          "type": "string",
                          "example": "mailtrap"
                        },
                        "configured": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "‚ùå N√£o dispon√≠vel em produ√ß√£o"
          }
        }
      }
    },
    "/api/debug/users": {
      "get": {
        "tags": ["Debug"],
        "summary": "üë• Listar usu√°rios (Debug)",
        "description": "‚ö†Ô∏è **DESENVOLVIMENTO APENAS** - Lista usu√°rios cadastrados.\n\n### üìã Funcionalidades:\n- üìä Lista todos os usu√°rios\n- üîí Senhas s√£o omitidas\n- üìÖ Dados de cria√ß√£o e modifica√ß√£o\n- üîç Estat√≠sticas b√°sicas\n\n### ‚ö†Ô∏è Seguran√ßa:\n- Dispon√≠vel apenas em desenvolvimento\n- Senhas nunca expostas\n- Dados sens√≠veis sanitizados",
        "responses": {
          "200": {
            "description": "‚úÖ Lista de usu√°rios",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "email": {
                            "type": "string"
                          },
                          "nome_responsavel": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "‚ùå N√£o dispon√≠vel em produ√ß√£o"
          }
        }
      }
    },
    "/api/debug/reset-tokens/{email}": {
      "get": {
        "tags": ["Debug"],
        "summary": "üîê Tokens de reset por email (Debug)",
        "description": "‚ö†Ô∏è **DESENVOLVIMENTO APENAS** - Lista tokens de reset para um email.\n\n### üîç Informa√ß√µes inclu√≠das:\n- üìã Todos os tokens para o email\n- ‚è∞ Status de expira√ß√£o\n- üîÑ Tokens usados vs ativos\n- üìÖ Datas de cria√ß√£o\n\n### ‚ö†Ô∏è Seguran√ßa:\n- Hash dos tokens (n√£o tokens reais)\n- Dispon√≠vel apenas em desenvolvimento\n- Logs de acesso registrados",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email"
            },
            "description": "Email do usu√°rio para buscar tokens"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Tokens encontrados",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string"
                    },
                    "tokens": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "token_hash": {
                            "type": "string",
                            "description": "Hash do token (n√£o o token real)"
                          },
                          "expires_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "used": {
                            "type": "boolean"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "‚ùå N√£o dispon√≠vel em produ√ß√£o"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "RegistroRequest": {
        "type": "object",
        "required": [
          "nomeDoResponsavel",
          "email",
          "senha",
          "dataDeNascimento",
          "termosAceitos"
        ],
        "properties": {
          "nomeDoResponsavel": {
            "type": "string",
            "description": "Nome completo do respons√°vel/pai da crian√ßa",
            "example": "Maria Silva Santos",
            "minLength": 2,
            "maxLength": 255,
            "pattern": "^[A-Za-z√Ä-√ø\\s]+$"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email √∫nico do respons√°vel (usado para login)",
            "example": "maria.santos@email.com",
            "maxLength": 255
          },
          "senha": {
            "type": "string",
            "description": "Senha do usu√°rio (ser√° criptografada com bcrypt)",
            "example": "minhasenhasegura123",
            "minLength": 6,
            "maxLength": 100
          },
          "dataDeNascimento": {
            "type": "string",
            "format": "date",
            "description": "Data de nascimento do respons√°vel no formato YYYY-MM-DD",
            "example": "1985-03-15"
          },
          "termosAceitos": {
            "type": "boolean",
            "description": "Confirma√ß√£o obrigat√≥ria de aceita√ß√£o dos termos de uso",
            "example": true,
            "enum": [true]
          }
        }
      },
      "RegistroSucessoResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o do registro",
            "example": "Usu√°rio registrado com sucesso!"
          },
          "user": {
            "$ref": "#/components/schemas/UsuarioResponse"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "required": [
          "email",
          "senha"
        ],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email do usu√°rio registrado",
            "example": "maria.santos@email.com"
          },
          "senha": {
            "type": "string",
            "description": "Senha do usu√°rio",
            "example": "minhasenha123",
            "minLength": 3
          },
          "rememberMe": {
            "type": "boolean",
            "description": "Manter usu√°rio logado",
            "example": false,
            "default": false
          }
        }
      },
      "LoginSucessoResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o do login",
            "example": "Login realizado com sucesso!"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "description": "ID do usu√°rio",
                "example": 1
              },
              "email": {
                "type": "string",
                "format": "email",
                "description": "Email do usu√°rio",
                "example": "maria.santos@email.com"
              },
              "nome": {
                "type": "string",
                "description": "Nome do usu√°rio",
                "example": "Maria Silva Santos"
              },
              "tipo": {
                "type": "string",
                "description": "Tipo de usu√°rio",
                "example": "usuario",
                "enum": ["usuario", "admin"]
              }
            }
          },
          "token": {
            "type": "string",
            "description": "Token de autentica√ß√£o",
            "example": "token_1_1642234567890"
          },
          "rememberMe": {
            "type": "boolean",
            "description": "Se o usu√°rio escolheu ser lembrado",
            "example": true
          }
        }
      },
      "UsuarioResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "ID √∫nico do usu√°rio no banco PostgreSQL",
            "example": 42
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email do usu√°rio registrado",
            "example": "maria.santos@email.com"
          },
          "nome_responsavel": {
            "type": "string",
            "description": "Nome do respons√°vel cadastrado",
            "example": "Maria Silva Santos"
          }
        }
      },
      "ErroResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Descri√ß√£o detalhada do erro ocorrido",
            "example": "Erro: Todos os campos s√£o obrigat√≥rios, incluindo a aceita√ß√£o dos termos."
          }
        }
      },
      "CriancaProfile": {
        "type": "object",
        "description": "Perfil da crian√ßa (implementa√ß√£o futura)",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "nome": {
            "type": "string",
            "example": "Jo√£o Pedro"
          },
          "idade": {
            "type": "integer",
            "minimum": 3,
            "maximum": 9,
            "example": 6
          },
          "nivel_matematica": {
            "type": "string",
            "enum": ["iniciante", "basico", "intermediario"],
            "example": "basico"
          },
          "responsavel_id": {
            "type": "integer",
            "example": 42
          }
        }
      },
      "HealthResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status do servidor",
            "example": "OK",
            "enum": ["OK"]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp ISO 8601 da verifica√ß√£o",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "service": {
            "type": "string",
            "description": "Nome do servi√ßo",
            "example": "MathKids API"
          }
        },
        "required": ["status", "timestamp", "service"]
      },
      "DatabaseHealthResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status da conex√£o com banco",
            "example": "OK",
            "enum": ["OK", "ERROR"]
          },
          "database": {
            "type": "string",
            "description": "Status da conectividade",
            "example": "connected",
            "enum": ["connected", "disconnected"]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp da verifica√ß√£o",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "query_time": {
            "type": "string",
            "description": "Tempo de resposta da consulta de teste",
            "example": "12ms"
          },
          "error": {
            "type": "string",
            "description": "Mensagem de erro (apenas em caso de falha)",
            "example": "Connection timeout"
          }
        },
        "required": ["status", "database", "timestamp"]
      },
      "ForgotPasswordRequest": {
        "type": "object",
        "required": ["email"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email do usu√°rio que esqueceu a senha",
            "example": "maria.santos@email.com"
          }
        }
      },
      "DebugResponse": {
        "type": "object",
        "properties": {
          "environment": {
            "type": "string",
            "description": "Ambiente atual (development/production)",
            "example": "development"
          },
          "database": {
            "type": "object",
            "description": "Informa√ß√µes de conex√£o do banco",
            "properties": {
              "host": {
                "type": "string",
                "example": "ep-dry-lab-a1b2c3d4.us-east-1.aws.neon.tech"
              },
              "port": {
                "type": "string",
                "example": "5432"
              },
              "database": {
                "type": "string",
                "example": "mathkids_db"
              },
              "ssl": {
                "type": "boolean",
                "example": true
              }
            }
          },
          "email": {
            "type": "object",
            "description": "Configura√ß√µes do servi√ßo de email",
            "properties": {
              "primary": {
                "type": "string",
                "example": "mailtrap"
              },
              "fallback": {
                "type": "string",
                "example": "ethereal"
              }
            }
          },
          "users": {
            "type": "array",
            "description": "Lista de usu√°rios (apenas em development)",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "email": {
                  "type": "string"
                },
                "nome_responsavel": {
                  "type": "string"
                }
              }
            }
          },
          "resetTokens": {
            "type": "array",
            "description": "Tokens de reset ativos (apenas em development)",
            "items": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string"
                },
                "token": {
                  "type": "string"
                },
                "expires_at": {
                  "type": "string",
                  "format": "date-time"
                }
              }
            }
          }
        }
      },
      "ForgotPasswordResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem padr√£o (sempre a mesma por seguran√ßa)",
            "example": "Se este email estiver cadastrado, voc√™ receber√° instru√ß√µes para redefinir sua senha."
          },
          "resetAvailable": {
            "type": "boolean",
            "description": "Indica se o reset est√° dispon√≠vel (apenas em dev)",
            "example": true
          },
          "emailSent": {
            "type": "boolean",
            "description": "Indica se o email foi enviado (apenas em dev)",
            "example": true
          },
          "devInfo": {
            "type": "object",
            "description": "Informa√ß√µes de desenvolvimento (apenas em NODE_ENV=development)",
            "properties": {
              "resetToken": {
                "type": "string",
                "description": "üéØ Token de reset (64 chars hex) - USE ESTE NO /api/reset-password",
                "example": "abc123def456...Token64CharsHex...789012345678901234567890abcdef123456",
                "minLength": 64,
                "maxLength": 64
              },
              "resetLink": {
                "type": "string",
                "description": "Link completo de reset (apenas em dev)",
                "example": "http://localhost:5000/cadastro/reset-password.html?token=abc123...&email=user%40email.com"
              },
              "testMode": {
                "type": "boolean",
                "description": "Indica se est√° em modo de teste",
                "example": true
              },
              "provider": {
                "type": "string",
                "description": "Provedor de email usado",
                "example": "mailtrap",
                "enum": ["mailtrap", "ethereal", "test"]
              },
              "previewUrl": {
                "type": "string",
                "description": "URL para preview do email (Ethereal)",
                "example": "https://ethereal.email/message/abc123"
              }
            }
          }
        },
        "required": ["message"]
      },
      "ResetPasswordRequest": {
        "type": "object",
        "required": ["token", "email", "newPassword"],
        "properties": {
          "token": {
            "type": "string",
            "description": "Token de reset recebido por email (64 caracteres hexadecimais)",
            "example": "a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456",
            "minLength": 64,
            "maxLength": 64,
            "pattern": "^[a-f0-9]{64}$"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email do usu√°rio (deve corresponder ao token)",
            "example": "usuario@email.com"
          },
          "newPassword": {
            "type": "string",
            "description": "Nova senha (6-128 caracteres)",
            "example": "minhanovasenha123",
            "minLength": 6,
            "maxLength": 128
          }
        }
      },
      "ResetPasswordResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Senha redefinida com sucesso! Fa√ßa login com a nova senha."
          }
        },
        "required": ["message"]
      },
      "EmailHealthResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status do servi√ßo de email",
            "example": "OK",
            "enum": ["OK", "UNHEALTHY", "ERROR"]
          },
          "email_service": {
            "type": "string",
            "description": "Estado do servi√ßo",
            "example": "enabled",
            "enum": ["enabled", "failed"]
          },
          "provider": {
            "type": "string",
            "description": "Provedor de email ativo",
            "example": "mailtrap",
            "enum": ["mailtrap", "test"]
          },
          "details": {
            "type": "object",
            "description": "Detalhes do provedor de email",
            "properties": {
              "provider": {
                "type": "string",
                "example": "mailtrap"
              },
              "isMailtrap": {
                "type": "boolean",
                "example": true
              },
              "isTest": {
                "type": "boolean",
                "example": false
              },
              "fromEmail": {
                "type": "string",
                "example": "noreply@mathkids.com"
              },
              "fromName": {
                "type": "string",
                "example": "MathKids - Educa√ß√£o Infantil"
              },
              "hasTransporter": {
                "type": "boolean",
                "example": true
              }
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp da verifica√ß√£o",
            "example": "2025-10-01T17:30:00.000Z"
          },
          "error": {
            "type": "string",
            "description": "Mensagem de erro (apenas em caso de falha)",
            "example": "SMTP connection failed"
          }
        },
        "required": ["status", "email_service", "timestamp"]
      },
      "ApiStatusResponse": {
        "type": "object",
        "properties": {
          "api": {
            "type": "string",
            "description": "Nome da API",
            "example": "MathKids API"
          },
          "status": {
            "type": "string",
            "description": "Status geral da API",
            "example": "online",
            "enum": ["online", "degraded", "offline"]
          },
          "endpoints": {
            "type": "object",
            "description": "Lista de endpoints principais dispon√≠veis",
            "properties": {
              "register": {
                "type": "string",
                "example": "/api/register"
              },
              "login": {
                "type": "string",
                "example": "/api/login"
              },
              "forgot_password": {
                "type": "string",
                "example": "/api/forgot-password"
              },
              "reset_password": {
                "type": "string",
                "example": "/api/reset-password"
              },
              "docs": {
                "type": "string",
                "example": "/api-docs"
              },
              "health": {
                "type": "string",
                "example": "/health"
              }
            }
          },
          "database": {
            "type": "string",
            "description": "Status da conex√£o com banco de dados",
            "example": "connected",
            "enum": ["connected", "not configured", "disconnected"]
          },
          "email_service": {
            "type": "object",
            "description": "Informa√ß√µes do servi√ßo de email",
            "properties": {
              "provider": {
                "type": "string",
                "example": "mailtrap"
              },
              "isMailtrap": {
                "type": "boolean",
                "example": true
              },
              "isTest": {
                "type": "boolean",
                "example": false
              },
              "fromEmail": {
                "type": "string",
                "example": "noreply@mathkids.com"
              },
              "fromName": {
                "type": "string",
                "example": "MathKids - Educa√ß√£o Infantil"
              },
              "hasTransporter": {
                "type": "boolean",
                "example": true
              }
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp da consulta",
            "example": "2025-10-01T17:30:00.000Z"
          }
        },
        "required": ["api", "status", "timestamp"]
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Token JWT para autentica√ß√£o (implementa√ß√£o futura para login)"
      }
    }
  },
  "security": [],
  "externalDocs": {
    "description": "üìö Documenta√ß√£o completa do MathKids no GitHub\n\nüöÄ **In√≠cio R√°pido**\n1. Clone o reposit√≥rio\n2. Configure as vari√°veis de ambiente (.env)\n3. Execute `npm install && npm start`\n4. Acesse /api-docs para esta documenta√ß√£o\n\nüîß **Configura√ß√£o de Desenvolvimento**\n- PostgreSQL via Neon.tech (DATABASE_URL)\n- Mailtrap para emails (MAILTRAP_USERNAME/PASSWORD)\n- NODE_ENV=development para logs detalhados\n\nüìß **Testando Emails**\n- Use /api/forgot-password ‚Üí copie token do devInfo\n- Execute /api/reset-password com o token\n- Logs detalhados em desenvolvimento\n\nüõ°Ô∏è **Seguran√ßa**\n- Senhas hasheadas com bcrypt (10 rounds)\n- Tokens de 64 chars hex para reset\n- Valida√ß√£o rigorosa em todas as entradas\n- CORS configurado para origens espec√≠ficas\n\nüìä **Monitoramento**\n- /health ‚Üí Status geral da API\n- /health/database ‚Üí Conectividade do banco\n- /health/email ‚Üí Status do servi√ßo de email\n- /debug ‚Üí Informa√ß√µes detalhadas (apenas dev)\n\nüéØ **Pr√≥ximos Passos**\n- Implementar m√≥dulos educativos de matem√°tica\n- Adicionar gest√£o de perfis de crian√ßas\n- Sistema de progresso e recompensas\n- Relat√≥rios de aprendizado para pais",
    "url": "https://github.com/abe-karin/mathkids/blob/main/README.md"
  }
}